
<div class=" d-flex w-100">
    <div class="w-25   align-content-center text-center" style="height: 100vh; background-color: black;">
        <app-header></app-header>

    </div>
    <div class="w-100  " >
        <div class="d-flex w-100" >
            
            <div class="container" style="background-color: rgb(0, 0, 0);">
                <div class="w-100 mx-auto" style="background-color: rgb(0, 0, 0); height: 100vh;">
                    <div class="d-flex">
                        <!-- Mostrar la cuenta regresiva si no es la hora de publicar
                        <div *ngIf="mostrarCuentaRegresiva" class="countdown-container">
                            <h3>¡Las charlas nocturnas están por comenzar!</h3>
                            <div class="countdown">
                              <div class="time-block">
                                <span class="time">{{ cuentaRegresiva?.horas }}</span>
                                <span class="label">Horas</span>
                              </div>
                              <div class="separator">:</div>
                              <div class="time-block">
                                <span class="time">{{ cuentaRegresiva?.minutos }}</span>
                                <span class="label">Minutos</span>
                              </div>
                              <div class="separator">:</div>
                              <div class="time-block">
                                <span class="time">{{ cuentaRegresiva?.segundos }}</span>
                                <span class="label">Segundos</span>
                              </div>
                            </div>
                          </div> -->
                          

                      
                        <!-- Aquí puedes mostrar contenido relacionado a las charlas cuando sea la hora -->
                        <div *ngIf="!mostrarCuentaRegresiva">
                          <!-- Contenido de la sección charlas -->
                          <canvas id="confetti-canvas" style="position: fixed; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none;"></canvas>
                          <h2>¡Ya puedes publicar tus charlas nocturnas!</h2>
                        </div>
                      </div>
                      
                      <ng-template #content let-c="close" let-d="dismiss">
                        <div class="modal-header">
                            <h4 class="modal-title" id="modal-basic-title">Publica tus post nocturnas</h4>
                            <button type="button" class="btn-close" aria-label="Close" (click)="d('Cross click')"></button>
                        </div>
                        <div class="modal-body">
                            <form [formGroup]="profileLogin" (ngSubmit)="login()">
                                <div class="mb-3 mx-auto w-75 mt-5 align-content-center text-center">
                                    <label for="emailLog" class="form-label align-content-center">¿Qué quieres publicar?</label>
                                    <input type="text" class="form-control" id="emailLog" aria-describedby="emailHelp" formControlName="contenido">
                                </div>
                                
                                <div class="mb-3 mx-auto w-50">
                                    <button type="submit" class="btn btn-primary w-100" (click)="c('Save click')">Publicar</button>
                                </div>
                            </form>
                        </div>
                      
                    </ng-template>
                   
                    <div class="text-end w-100 mb-3">
                        <button class="btn btn-outline-light w-25 mt-3 w-25" style="border-radius: 15px;" (click)="open(content)"><svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="currentColor" class="bi bi-envelope-plus-fill" viewBox="0 0 16 16">
                            <path d="M.05 3.555A2 2 0 0 1 2 2h12a2 2 0 0 1 1.95 1.555L8 8.414zM0 4.697v7.104l5.803-3.558zM6.761 8.83l-6.57 4.026A2 2 0 0 0 2 14h6.256A4.5 4.5 0 0 1 8 12.5a4.49 4.49 0 0 1 1.606-3.446l-.367-.225L8 9.586zM16 4.697v4.974A4.5 4.5 0 0 0 12.5 8a4.5 4.5 0 0 0-1.965.45l-.338-.207z"/>
                            <path d="M16 12.5a3.5 3.5 0 1 1-7 0 3.5 3.5 0 0 1 7 0m-3.5-2a.5.5 0 0 0-.5.5v1h-1a.5.5 0 0 0 0 1h1v1a.5.5 0 0 0 1 0v-1h1a.5.5 0 0 0 0-1h-1v-1a.5.5 0 0 0-.5-.5"/>
                          </svg> </button>

                    </div>
                    <div class="scroll-container w-100">
                        <div *ngFor="let c of mensajes">
                            <div class="card w-75 mx-auto mb-3" style="border-radius: 15px;" >
                              
                                <div class="card-header d-flex w-100 mx-auto " style="justify-content: space-around;">
                                    <img [src]="c.fotourl" alt="" style="width: 50px; height: 50px; border-radius: 50%;">
                                    <h5 class="ms-2 text-center w-100 align-content-center">{{c.nombreUsuario}}</h5>
                                    <p><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clock-history" viewBox="0 0 16 16">
                                      <path d="M8.515 1.019A7 7 0 0 0 8 1V0a8 8 0 0 1 .589.022zm2.004.45a7 7 0 0 0-.985-.299l.219-.976q.576.129 1.126.342zm1.37.71a7 7 0 0 0-.439-.27l.493-.87a8 8 0 0 1 .979.654l-.615.789a7 7 0 0 0-.418-.302zm1.834 1.79a7 7 0 0 0-.653-.796l.724-.69q.406.429.747.91zm.744 1.352a7 7 0 0 0-.214-.468l.893-.45a8 8 0 0 1 .45 1.088l-.95.313a7 7 0 0 0-.179-.483m.53 2.507a7 7 0 0 0-.1-1.025l.985-.17q.1.58.116 1.17zm-.131 1.538q.05-.254.081-.51l.993.123a8 8 0 0 1-.23 1.155l-.964-.267q.069-.247.12-.501m-.952 2.379q.276-.436.486-.908l.914.405q-.24.54-.555 1.038zm-.964 1.205q.183-.183.35-.378l.758.653a8 8 0 0 1-.401.432z"/>
                                      <path d="M8 1a7 7 0 1 0 4.95 11.95l.707.707A8.001 8.001 0 1 1 8 0z"/>
                                      <path d="M7.5 3a.5.5 0 0 1 .5.5v5.21l3.248 1.856a.5.5 0 0 1-.496.868l-3.5-2A.5.5 0 0 1 7 9V3.5a.5.5 0 0 1 .5-.5"/>
                                    </svg> {{c.tiempoPublicado}}</p>
                                    
                                </div>
                                <div class="card-body w-100 text-center">
                                    {{c.contenido}}
                                  
                                  
                                  
                                    
                                    
                                   
                                </div>
                            </div>
                            <div class="w-75 mx-auto d-flex text-light" style="justify-content: space-around;">
                                <div>
                                    <button type="button" class="btn btn-outline-light" style="border-radius: 20px; border-color: transparent;" (click)="darmegusta(c.id)">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-heart" viewBox="0 0 16 16">
                                            <path d="m8 2.748-.717-.737C5.6.281 2.514.878 1.4 3.053c-.523 1.023-.641 2.5.314 4.385.92 1.815 2.834 3.989 6.286 6.357 3.452-2.368 5.365-4.542 6.286-6.357.955-1.886.838-3.362.314-4.385C13.486.878 10.4.28 8.717 2.01zM8 15C-7.333 4.868 3.279-3.04 7.824 1.143q.09.083.176.171a3 3 0 0 1 .176-.17C12.72-3.042 23.333 4.867 8 15"/>
                                        </svg>
                                    </button>{{c.numeroMegustas}}
                                    
                                </div>
                                <div>
                                    <button type="button"  class="btn btn-outline-light" style="border-radius: 20px; border-color: transparent;">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-chat-dots-fill" viewBox="0 0 16 16">
                                            <path d="M16 8c0 3.866-3.582 7-8 7a9 9 0 0 1-2.347-.306c-.584.296-1.925.864-4.181 1.234-.2.032-.352-.176-.273-.362.354-.836.674-1.95.77-2.966C.744 11.37 0 9.76 0 8c0-3.866 3.582-7 8-7s8 3.134 8 7M5 8a1 1 0 1 0-2 0 1 1 0 0 0 2 0m4 0a1 1 0 1 0-2 0 1 1 0 0 0 2 0m3 1a1 1 0 1 0 0-2 1 1 0 0 0 0 2"/>
                                        </svg>
                                    </button>{{c.comentariosDtoLis.length}}
                                </div>
                               
                              
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            
            
       

        </div>
    </div>
</div>