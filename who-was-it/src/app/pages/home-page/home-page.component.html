<div class=" d-flex w-100">
    <div class="w-25   align-content-center text-center" style="height: 100vh; background-color: black;">
        <app-header></app-header>

    </div>

    <div class="w-75  " style="background-color: black;" >
        <div class="d-flex w-100">
            
            <div class="container">
                <div class="w-100 mx-auto" style="background-color: rgb(0, 0, 0); height: 100vh;">
                    <div class="d-flex " >
                      
                      <input
                      id="typeahead-focus"
                      type="text"
                      class="form-control w-50 mx-auto mb-3 mt-2" type="text" placeholder="Buscar..." aria-label="default input example" style="border-radius: 15px;"
                      [(ngModel)]="model"
                      [ngbTypeahead]="search"
                      (selectItem)="onSelect($event)"
                      (focus)="focus$.next($any($event).target.value)"
                      (click)="click$.next($any($event).target.value)"
                      #instance="ngbTypeahead"
                    />
                    
                    
                        <button type="button" class="btn btn-outline-light w-25 mt-2" style="border-radius: 15px;height: 1%; " (click)="openModalComandas(modal)">
                            <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="currentColor" class="bi bi-envelope-plus-fill" viewBox="0 0 16 16">
                                <path d="M.05 3.555A2 2 0 0 1 2 2h12a2 2 0 0 1 1.95 1.555L8 8.414zM0 4.697v7.104l5.803-3.558zM6.761 8.83l-6.57 4.026A2 2 0 0 0 2 14h6.256A4.5 4.5 0 0 1 8 12.5a4.49 4.49 0 0 1 1.606-3.446l-.367-.225L8 9.586zM16 4.697v4.974A4.5 4.5 0 0 0 12.5 8a4.5 4.5 0 0 0-1.965.45l-.338-.207z"/>
                                <path d="M16 12.5a3.5 3.5 0 1 1-7 0 3.5 3.5 0 0 1 7 0m-3.5-2a.5.5 0 0 0-.5.5v1h-1a.5.5 0 0 0 0 1h1v1a.5.5 0 0 0 1 0v-1h1a.5.5 0 0 0 0-1h-1v-1a.5.5 0 0 0-.5-.5"/>
                              </svg> 
                        </button>
                    </div>
                   
                    
                   
                    
                   
                    <div class="scroll-container w-100">
                        <div *ngFor="let c of verPosts">
                            <div class="card w-75 mx-auto mb-3" *ngIf="!c.soloUnaVez && !c.desorden" style="border-radius: 15px;" >
                              
                                <div class="card-header d-flex w-100 mx-auto " style="justify-content: space-around;" >
                                    <img [src]="c.foto" alt="" style="width: 50px; height: 50px; border-radius: 50%;">
                                    <h5 class="ms-2 text-center w-100 align-content-center">{{c.nombreUsuario}}</h5>
                                    <p><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clock-history" viewBox="0 0 16 16">
                                      <path d="M8.515 1.019A7 7 0 0 0 8 1V0a8 8 0 0 1 .589.022zm2.004.45a7 7 0 0 0-.985-.299l.219-.976q.576.129 1.126.342zm1.37.71a7 7 0 0 0-.439-.27l.493-.87a8 8 0 0 1 .979.654l-.615.789a7 7 0 0 0-.418-.302zm1.834 1.79a7 7 0 0 0-.653-.796l.724-.69q.406.429.747.91zm.744 1.352a7 7 0 0 0-.214-.468l.893-.45a8 8 0 0 1 .45 1.088l-.95.313a7 7 0 0 0-.179-.483m.53 2.507a7 7 0 0 0-.1-1.025l.985-.17q.1.58.116 1.17zm-.131 1.538q.05-.254.081-.51l.993.123a8 8 0 0 1-.23 1.155l-.964-.267q.069-.247.12-.501m-.952 2.379q.276-.436.486-.908l.914.405q-.24.54-.555 1.038zm-.964 1.205q.183-.183.35-.378l.758.653a8 8 0 0 1-.401.432z"/>
                                      <path d="M8 1a7 7 0 1 0 4.95 11.95l.707.707A8.001 8.001 0 1 1 8 0z"/>
                                      <path d="M7.5 3a.5.5 0 0 1 .5.5v5.21l3.248 1.856a.5.5 0 0 1-.496.868l-3.5-2A.5.5 0 0 1 7 9V3.5a.5.5 0 0 1 .5-.5"/>
                                    </svg> {{c.tiempoPublicado}}</p>
                                    <svg xmlns="http://www.w3.org/2000/svg" *ngIf="c.recomendar" width="30" height="30" fill="currentColor" class="bi bi-rocket-takeoff  align-content-center rocket-launch" viewBox="0 0 16 16">
                                        <path d="M9.752 6.193c.599.6 1.73.437 2.528-.362s.96-1.932.362-2.531c-.599-.6-1.73-.438-2.528.361-.798.8-.96 1.933-.362 2.532"/>
                                        <path d="M15.811 3.312c-.363 1.534-1.334 3.626-3.64 6.218l-.24 2.408a2.56 2.56 0 0 1-.732 1.526L8.817 15.85a.51.51 0 0 1-.867-.434l.27-1.899c.04-.28-.013-.593-.131-.956a9 9 0 0 0-.249-.657l-.082-.202c-.815-.197-1.578-.662-2.191-1.277-.614-.615-1.079-1.379-1.275-2.195l-.203-.083a10 10 0 0 0-.655-.248c-.363-.119-.675-.172-.955-.132l-1.896.27A.51.51 0 0 1 .15 7.17l2.382-2.386c.41-.41.947-.67 1.524-.734h.006l2.4-.238C9.005 1.55 11.087.582 12.623.208c.89-.217 1.59-.232 2.08-.188.244.023.435.06.57.093q.1.026.16.045c.184.06.279.13.351.295l.029.073a3.5 3.5 0 0 1 .157.721c.055.485.051 1.178-.159 2.065m-4.828 7.475.04-.04-.107 1.081a1.54 1.54 0 0 1-.44.913l-1.298 1.3.054-.38c.072-.506-.034-.993-.172-1.418a9 9 0 0 0-.164-.45c.738-.065 1.462-.38 2.087-1.006M5.205 5c-.625.626-.94 1.351-1.004 2.09a9 9 0 0 0-.45-.164c-.424-.138-.91-.244-1.416-.172l-.38.054 1.3-1.3c.245-.246.566-.401.91-.44l1.08-.107zm9.406-3.961c-.38-.034-.967-.027-1.746.163-1.558.38-3.917 1.496-6.937 4.521-.62.62-.799 1.34-.687 2.051.107.676.483 1.362 1.048 1.928.564.565 1.25.941 1.924 1.049.71.112 1.429-.067 2.048-.688 3.079-3.083 4.192-5.444 4.556-6.987.183-.771.18-1.345.138-1.713a3 3 0 0 0-.045-.283 3 3 0 0 0-.3-.041Z"/>
                                        <path d="M7.009 12.139a7.6 7.6 0 0 1-1.804-1.352A7.6 7.6 0 0 1 3.794 8.86c-1.102.992-1.965 5.054-1.839 5.18.125.126 3.936-.896 5.054-1.902Z"/>
                                      </svg>
                                      
                                      <button 
      type="button" 
      class="btn btn-outline-dark" 
      (click)="open(content,c.id)"
      style="border-radius: 20%; width: 50px; height: 50px;" 
      [hidden]="c.nombreUsuario !== usuerName">
      <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="bi bi-bar-chart" viewBox="0 0 16 16">
        <path d="M4 11H2v3h2zm5-4H7v7h2zm5-5v12h-2V2zm-2-1a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1zM6 7a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v7a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1zm-5 4a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v3a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1z"/>
      </svg>
    </button>
                                      
                                </div>
                                <div class="card-body w-100 text-center" *ngIf="!c.soloUnaVez" (click)="detallesPost(c.id)">
                                    {{c.contenido}}
                                    <div class="card w-75 mx-auto mb-3 card shadow bg-white rounded" *ngIf="c.cuestionarioDto != null">
                                      <div class="card-header d-flex w-100 mx-auto" style="justify-content: space-around; background-color: rgb(247, 221, 108);">
                                          {{c.cuestionarioDto.titulo}}
                                      </div>
                                      <div class="card-body mx-auto w-100" *ngFor="let q of c.cuestionarioDto.opciones" style="background-color: rgb(245, 226, 145);">
                                          <button 
                                              type="button" 
                                              class="btn btn-light w-100 text-start" 
                                              style="border-radius: 15px;" 
                                              (click)="votar(q.id); $event.stopPropagation()">
                                              {{q.opcion}} 
                                          </button>
                                          <!-- Mostrar los resultados si el usuario ha votado -->
                                          <div *ngIf="resultadoVotacion && resultadoVotacion.length > 0">
                                              <div *ngFor="let opcion of resultadoVotacion" >
                                                <div *ngIf="opcion.id === c.cuestionarioDto.id">
                                                  <div *ngFor="let o of opcion.opciones" >
                                                    <div *ngIf="o.id === q.id">
                                                      <div class="progress " role="progressbar" aria-label="Success example" aria-valuemin="0" aria-valuemax="100">
                                                        <div 
                                                            class="progress-bar bg-success text-danger" 
                                                            [style.width.%]="o.porcentajeVotos">
                                                            {{o.porcentajeVotos}}%
                                                        </div>
                                                    </div>
                                                    </div>
                                                    
                                                  </div>
                                                </div>
                                               
                                              </div>
                                          </div>
                                      </div>
                                  </div>
                                  
                                  
                                    
                                    
                                    <div class="card w-75 mx-auto mb-3" style="border-radius: 15px;" *ngIf="c.ps != null && c.ps!=null">
                                        <div class="card-header d-flex w-100 mx-auto" style="justify-content: space-around;">
                                            <img [src]="c.ps?.foto" alt="" style="width: 50px; height: 50px; border-radius: 50%;">
                                            <h5 class="ms-2 text-center w-100 align-content-center">{{c.ps?.nombreUsuario}}</h5>
                                            <div class="d-flex">
                                                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="bi bi-repeat" viewBox="0 0 16 16">
                                                    <path d="M11 5.466V4H5a4 4 0 0 0-3.584 5.777.5.5 0 1 1-.896.446A5 5 0 0 1 5 3h6V1.534a.25.25 0 0 1 .41-.192l2.36 1.966c.12.1.12.284 0 .384l-2.36 1.966a.25.25 0 0 1-.41-.192m3.81.086a.5.5 0 0 1 .67.225A5 5 0 0 1 11 13H5v1.466a.25.25 0 0 1-.41.192l-2.36-1.966a.25.25 0 0 1 0-.384l2.36-1.966a.25.25 0 0 1 .41.192V12h6a4 4 0 0 0 3.585-5.777.5.5 0 0 1 .225-.67Z"/>
                                                </svg>{{c.ps?.numeroDeRepost}}
                                            </div>
                                        </div>
                                        <div class="card-body mx-auto">
                                            {{c.ps?.contenido}} <br>
                                            <u *ngIf="c.ps.cuestionarioDto!=null">  <svg xmlns="http://www.w3.org/2000/svg"  width="16" height="16" fill="currentColor" class="bi bi-bar-chart" viewBox="0 0 16 16">
                                                <path d="M4 11H2v3h2zm5-4H7v7h2zm5-5v12h-2V2zm-2-1a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1zM6 7a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v7a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1zm-5 4a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v3a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1z"/>
                                              </svg>...</u>
                                          
                                        </div>
                                    </div>
                                </div>

                             
                           

                              

                            </div>
                                 <div class="card w-100 mx-auto"  *ngIf="c.desorden " (click)="detallesPost(c.id)"  style="background-color: rgb(231, 157, 45); border-radius: 20px;">
                              <div class="card-header d-flex justify-content-around" >
                                <img
                                  
                                  [src]="c.foto"
                                  alt="Foto"
                                  class="rounded-circle"
                                  style="width: 50px; height: 50px;"
                                />
                                <h5 class="ms-2 text-center w-100" >
                                  {{ c.nombreUsuario }}
                                </h5>
                                <p >
                                  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clock-history">
                                    <path d="..."></path>
                                  </svg>
                                  {{ c.tiempoPublicado }}
                                  
                                </p>
                              </div>
                            
                              <div class="card-body text-center" >
                              
                                <p >
                                  {{ c.palabraDesordenada }}
                                  
                                </p>
                              </div>
                            
                              
                              
                            </div>
                            <div *ngFor="let v of c.visualizacionDtos">
                                   <div class="card w-75 mx-auto mb-3"  *ngIf="v != null "  style="background-color: rgb(139, 70, 218);">
                              <div class="card-header d-flex justify-content-around" >
                                <img
                                  
                                  [src]="v.foto"
                                  alt="Foto"
                                  class="rounded-circle"
                                  style="width: 50px; height: 50px;"
                                />
                                <h5 class="ms-2 text-center w-100" >
                                  {{ v.nombreUsuario }}
                                </h5>
                                <p >
                                  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clock-history">
                                    <path d="..."></path>
                                  </svg>
                                  {{ v.tiempoPublicado }}
                                  
                                </p>
                              </div>
                            
                              <div class="card-body text-center" >
                               
                                <p >
                                  {{ v.contenido }}
                                  
                                </p>
                              </div>
                            
                              
                              
                            </div>
                          
                            </div>
                           
                            <div class="w-100 text-center mt-3" >
                              
                            
                              <button
                                *ngIf="c.soloUnaVez && c.visualizacionDtos!.length! == 0"
                             

                                
                                class="btn btn-outline-light w-50 mt-2 mb-3 text-center mx-auto"
                                style="border-radius: 15px;"
                                (click)="verPostUnaVEz(c.id)"
                              >
                                Revelar Información: 10
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-stopwatch" viewBox="0 0 16 16">
                                  <path d="M8.5 5.6a.5.5 0 1 0-1 0v2.9h-3a.5.5 0 0 0 0 1H8a.5.5 0 0 0 .5-.5z" />
                                  <path d="M6.5 1A.5.5 0 0 1 7 .5h2a.5.5 0 0 1 0 1v.57c1.36.196 2.594.78 3.584 1.64l.012-.013.354-.354-.354-.353a.5.5 0 0 1 .707-.708l1.414 1.415a.5.5 0 1 1-.707.707l-.353-.354-.354.354-.013.012A7 7 0 1 1 7 2.071V1.5a.5.5 0 0 1-.5-.5M8 3a6 6 0 1 0 .001 12A6 6 0 0 0 8 3" />
                                </svg>
                              </button>
                            </div>
                            <div class="w-75 mx-auto d-flex text-light" style="justify-content: space-around;" >
                              <button type="button" class="btn btn-outline-light" style="border-radius: 10px; "   (click)="cogerIdPueblo(c.lugaresDto.id)"    *ngIf="c.lugaresDto!=null"  >
                               {{c.lugaresDto.nombreLugar}}
                            </button>
                            <button type="button" class="btn btn-outline-light" style="border-radius: 10px; "*ngIf="c.lugaresDto==null" (click)="cogerIdPueblo(c.pueblos.id)" >
                              {{c.pueblos.pueblos}}
                           </button>
                            </div>
                            
                      
                            
                          
                            <div class="w-75 mx-auto d-flex text-light" style="justify-content: space-around;" *ngIf="!c.soloUnaVez">
                                <div>
                                    <button type="button" class="btn btn-outline-light" style="border-radius: 20px; border-color: transparent;" (click)="darmegusta(c.id)">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-heart" viewBox="0 0 16 16">
                                            <path d="m8 2.748-.717-.737C5.6.281 2.514.878 1.4 3.053c-.523 1.023-.641 2.5.314 4.385.92 1.815 2.834 3.989 6.286 6.357 3.452-2.368 5.365-4.542 6.286-6.357.955-1.886.838-3.362.314-4.385C13.486.878 10.4.28 8.717 2.01zM8 15C-7.333 4.868 3.279-3.04 7.824 1.143q.09.083.176.171a3 3 0 0 1 .176-.17C12.72-3.042 23.333 4.867 8 15"/>
                                        </svg>
                                    </button>{{c.numeroMegustas}}
                                    
                                </div>
                                <div>
                                    <button type="button" (click)="detallesPost(c.id)" class="btn btn-outline-light" style="border-radius: 20px; border-color: transparent;">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-chat-dots-fill" viewBox="0 0 16 16">
                                            <path d="M16 8c0 3.866-3.582 7-8 7a9 9 0 0 1-2.347-.306c-.584.296-1.925.864-4.181 1.234-.2.032-.352-.176-.273-.362.354-.836.674-1.95.77-2.966C.744 11.37 0 9.76 0 8c0-3.866 3.582-7 8-7s8 3.134 8 7M5 8a1 1 0 1 0-2 0 1 1 0 0 0 2 0m4 0a1 1 0 1 0-2 0 1 1 0 0 0 2 0m3 1a1 1 0 1 0 0-2 1 1 0 0 0 0 2"/>
                                        </svg>
                                    </button>{{c.comentariosDtos.length}}
                                </div>
                                <div>
                                    <button type="button" class="btn btn-outline-light" style="border-radius: 20px; border-color: transparent;" (click)="openModalRepost(c.id)">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-repeat" viewBox="0 0 16 16">
                                            <path d="M11 5.466V4H5a4 4 0 0 0-3.584 5.777.5.5 0 1 1-.896.446A5 5 0 0 1 5 3h6V1.534a.25.25 0 0 1 .41-.192l2.36 1.966c.12.1.12.284 0 .384l-2.36 1.966a.25.25 0 0 1-.41-.192m3.81.086a.5.5 0 0 1 .67.225A5 5 0 0 1 11 13H5v1.466a.25.25 0 0 1-.41.192l-2.36-1.966a.25.25 0 0 1 0-.384l2.36-1.966a.25.25 0 0 1 .41.192V12h6a4 4 0 0 0 3.585-5.777.5.5 0 0 1 .225-.67Z"/>
                                        </svg>
                                    </button>{{c.numeroDeRepost}}
                                </div>
                                <div>
                                    <button type="button" class="btn btn-outline-light" style="border-radius: 20px; border-color: transparent;"(click)="recomendar(c.id)">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-rocket-takeoff" viewBox="0 0 16 16">
                                            <path d="M9.752 6.193c.599.6 1.73.437 2.528-.362s.96-1.932.362-2.531c-.599-.6-1.73-.438-2.528.361-.798.8-.96 1.933-.362 2.532"/>
                                            <path d="M15.811 3.312c-.363 1.534-1.334 3.626-3.64 6.218l-.24 2.408a2.56 2.56 0 0 1-.732 1.526L8.817 15.85a.51.51 0 0 1-.867-.434l.27-1.899c.04-.28-.013-.593-.131-.956a9 9 0 0 0-.249-.657l-.082-.202c-.815-.197-1.578-.662-2.191-1.277-.614-.615-1.079-1.379-1.275-2.195l-.203-.083a10 10 0 0 0-.655-.248c-.363-.119-.675-.172-.955-.132l-1.896.27A.51.51 0 0 1 .15 7.17l2.382-2.386c.41-.41.947-.67 1.524-.734h.006l2.4-.238C9.005 1.55 11.087.582 12.623.208c.89-.217 1.59-.232 2.08-.188.244.023.435.06.57.093q.1.026.16.045c.184.06.279.13.351.295l.029.073a3.5 3.5 0 0 1 .157.721c.055.485.051 1.178-.159 2.065m-4.828 7.475.04-.04-.107 1.081a1.54 1.54 0 0 1-.44.913l-1.298 1.3.054-.38c.072-.506-.034-.993-.172-1.418a9 9 0 0 0-.164-.45c.738-.065 1.462-.38 2.087-1.006M5.205 5c-.625.626-.94 1.351-1.004 2.09a9 9 0 0 0-.45-.164c-.424-.138-.91-.244-1.416-.172l-.38.054 1.3-1.3c.245-.246.566-.401.91-.44l1.08-.107zm9.406-3.961c-.38-.034-.967-.027-1.746.163-1.558.38-3.917 1.496-6.937 4.521-.62.62-.799 1.34-.687 2.051.107.676.483 1.362 1.048 1.928.564.565 1.25.941 1.924 1.049.71.112 1.429-.067 2.048-.688 3.079-3.083 4.192-5.444 4.556-6.987.183-.771.18-1.345.138-1.713a3 3 0 0 0-.045-.283 3 3 0 0 0-.3-.041Z"/>
                                            <path d="M7.009 12.139a7.6 7.6 0 0 1-1.804-1.352A7.6 7.6 0 0 1 3.794 8.86c-1.102.992-1.965 5.054-1.839 5.18.125.126 3.936-.896 5.054-1.902Z"/>
                                          </svg>
                                    </button>{{c.numeroRecomendar}}
                                </div>
                            </div>
                            <hr class="mx-auto w-75" style="background-color: white; height: 3px;">
                        </div>
                    </div>
                </div>
            </div>
            
            
            
            <div class="w-50 align-content-center text-light" style="background-color: black; ">
                <div class="d-flex justify-content-center">
                    <img [src]="perfil.foto" alt="" class="w-50" style="border-radius: 50%;">
                  </div>
                <h5 class="text-center">{{perfil.nombreUsuario}}</h5>
                <hr>
                <h6 class="text-center"><u>Informacion Real</u></h6>
                <div class="d-flex" style="justify-content: space-around;">
                    <h5>Nombre:</h5>
                    <h5>{{perfil.usuario.name}}</h5>
                </div>
                <div class="d-flex" style="justify-content: space-around;">
                    <h5>Apellido:</h5>
                    <h5>{{perfil.usuario.lastName}}</h5>
                </div>
                <div class="d-flex" style="justify-content: space-around;">
                    <h5>Email:</h5>
                    <h5>{{perfil.usuario.username}}</h5>
                </div>
                <div class="d-flex" style="justify-content: space-around;">
                    <h5>Numero Telefono:</h5>
                    <h5>{{perfil.usuario.phoneNumber}}</h5>
                </div>
                <div class=" text-center w-100">
                    <button type="button" class="btn btn-outline-light mt-5 text-center w-50" style="border-radius: 15px;"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="bi bi-person-fill" viewBox="0 0 16 16">
                      <path d="M3 14s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1zm5-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6"/>
                    </svg> Ir a Perfil</button>
                </div>
                



            </div>  

        </div>
    </div>
 
  
    <ng-template #detailsModalComandas let-modal >
        <div class="modal-header">
            <h5 class="modal-title">Flickear</h5>
            <button type="button" class="btn-close" (click)="modal.close()"></button>
          </div>
          <div class="modal-body">
            
            <form [formGroup]="crerPost" (ngSubmit)="login(modal)">
              <div class="mb-3">
                <label for="contenido" class="form-label">¿Qué quieres Flickear?</label>
                <input
                  id="contenido"
                  formControlName="contenido"
                  class="form-control"
                  placeholder="Escribe aquí..."
                />
                <label for="contenido" class="form-label">¿Donde?</label>
                <input
                id="lugar"
                type="text"
                class="form-control"
                placeholder="Sevilla,   lugar en concreto..."
                [(ngModel)]="model"
                
                formControlName="lugar"
                [ngbTypeahead]="search"
                (selectItem)="onSelect($event)"
                (focus)="focus$.next($any($event).target.value)"
                (click)="click$.next($any($event).target.value)"
                #instance="ngbTypeahead"
              />
              </div>
              <div class="mb-3 w-100 mx-auto text-center d-flex">
                <button
                  type="button"
                  class="btn btn-outline-dark  text-center w-25" style="border-radius: 15px; border: none;"
                  (click)="toggleCuestionario()"
                >
                <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="currentColor" class="bi bi-clipboard2-data" viewBox="0 0 16 16">
                  <path d="M9.5 0a.5.5 0 0 1 .5.5.5.5 0 0 0 .5.5.5.5 0 0 1 .5.5V2a.5.5 0 0 1-.5.5h-5A.5.5 0 0 1 5 2v-.5a.5.5 0 0 1 .5-.5.5.5 0 0 0 .5-.5.5.5 0 0 1 .5-.5z"/>
                  <path d="M3 2.5a.5.5 0 0 1 .5-.5H4a.5.5 0 0 0 0-1h-.5A1.5 1.5 0 0 0 2 2.5v12A1.5 1.5 0 0 0 3.5 16h9a1.5 1.5 0 0 0 1.5-1.5v-12A1.5 1.5 0 0 0 12.5 1H12a.5.5 0 0 0 0 1h.5a.5.5 0 0 1 .5.5v12a.5.5 0 0 1-.5.5h-9a.5.5 0 0 1-.5-.5z"/>
                  <path d="M10 7a1 1 0 1 1 2 0v5a1 1 0 1 1-2 0zm-6 4a1 1 0 1 1 2 0v1a1 1 0 1 1-2 0zm4-3a1 1 0 0 0-1 1v3a1 1 0 1 0 2 0V9a1 1 0 0 0-1-1"/>
                </svg>
                </button>
                <div class="mb-3">
                  <mat-slide-toggle formControlName="postUnaVez">
                    FlashPost
                  </mat-slide-toggle>
                </div>  
                <div class="mb-3">
                  <mat-slide-toggle formControlName="desorden">
                    Palabras desordenadas
                  </mat-slide-toggle>
                </div>             
              
              </div>
          
              
              <div *ngIf="mostrarCuestionario">
                <h6 class="text-center">Creación del cuestionario</h6>
               
<form [formGroup]="crearCuestionarioForm" (ngSubmit)="crearCuestionario()">
    <div class="mb-3 text-center">
      <input
        type="text"
        class="form-control"
        formControlName="titulo"
        placeholder="Título del cuestionario"
      />
      <div>
        <button type="submit" class="btn btn-success mt-2 text-center">
          Crear Cuestionario
        </button>
        <button type="button" (click)="eliminarCuestionario()" (click)="toggleCuestionario()" class="btn btn-danger mt-2 text-center" *ngIf="cuestionarioCreado" >
          eliminar cuestionario
        </button>
      </div>
      
    </div>
  </form>
  
          
                <div *ngIf="cuestionarioCreado">
                    <h6>Agregar Opciones</h6>
                    <form  [formGroup]="crearOpcionesForm" (ngSubmit)="agregarOpcion()">
                        <div class="mb-3 d-flex">
                          <input
                            type="text"
                            class="form-control "
                            formControlName="opciones"
                            placeholder="Escribe una opción"
                            
                          />
                          <button
                            type="submit"
                            class="btn btn-success "
                            style="border-radius: 15px;"
                          >
                          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-plus" viewBox="0 0 16 16">
                            <path d="M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4"/>
                          </svg>
                          </button>
                         
                        </div>
                      </form>
                      
                    <ul class="list-group" >
                      <li
                        class="list-group-item"
                        *ngFor="let op of verOpcioness;  "
                        
                      >
                        {{ op.opcion }}
                        <button
                          type="button"
                          class="btn btn-danger btn-sm ms-2"
                          (click)="eliminarOpciones(op.id)"
                        >
                          Eliminar
                        </button>
                      </li>
                    </ul>
                  </div>
                  
              </div>
          
              
              <div class="mt-3 text-center mt-5">
                <button type="submit" class="btn btn-info">Flickear <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-send" viewBox="0 0 16 16">
                  <path d="M15.854.146a.5.5 0 0 1 .11.54l-5.819 14.547a.75.75 0 0 1-1.329.124l-3.178-4.995L.643 7.184a.75.75 0 0 1 .124-1.33L15.314.037a.5.5 0 0 1 .54.11ZM6.636 10.07l2.761 4.338L14.13 2.576zm6.787-8.201L1.591 6.602l4.339 2.76z"/>
                </svg></button>
              </div>
            </form>
          </div>
          
        
      </ng-template>

      <ng-template #reposts let-modal>
        <div class="modal-header">
            <h5 class="modal-title">Repostear</h5>
            <button type="button" class="btn-close" aria-label="Close" (click)="modal.dismiss('Cross click')"></button>
        </div>
        <div class="modal-body" style="max-height: 400px; overflow-y: auto;">
            <div class="w-100">
                <form [formGroup]="crerRepost" (ngSubmit)="repost(modal)">
                    <div class="mb-3 mx-auto w-75 mt-5 align-content-center text-center">
                        <label for="emailLog" class="form-label align-content-center">¿Qué quieres publicar?</label>
                        <input type="text" class="form-control" id="emailLog" aria-describedby="emailHelp" formControlName="contenido">
                    </div>
                    
                    <div class="mb-3 mx-auto w-50">
                        <button type="submit" class="btn btn-primary w-100">Publicar</button>
                    </div>
                </form>
            </div>
        </div>
    </ng-template>
    
    
    <ng-template #content let-c="close" let-d="dismiss">
      <div class="modal-header">
        <h4 class="modal-title" id="modal-basic-title">Estadísticas de la publicación</h4>
        <button type="button" class="btn-close" aria-label="Close" (click)="d('Cross click')"></button>
      </div>
      <div class="modal-body">
        <p><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-heart-fill" viewBox="0 0 16 16">
          <path fill-rule="evenodd" d="M8 1.314C12.438-3.248 23.534 4.735 8 15-7.534 4.736 3.562-3.248 8 1.314"/>
        </svg> Me gusta: {{estdisticas.numeroMegusta}}</p>
        
        <div *ngFor="let favorito of estdisticas.detallesFavoritosDtos" class="d-flex align-items-center mb-2">
          <img [src]="favorito.foto" alt="Foto de usuario" class="rounded-circle" width="40" height="40">
          <p class="mb-0 ms-2">{{favorito.nombreUsuario}}</p>
        </div>
        
        <p><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-chat-dots-fill" viewBox="0 0 16 16">
          <path d="M16 8c0 3.866-3.582 7-8 7a9 9 0 0 1-2.347-.306c-.584.296-1.925.864-4.181 1.234-.2.032-.352-.176-.273-.362.354-.836.674-1.95.77-2.966C.744 11.37 0 9.76 0 8c0-3.866 3.582-7 8-7s8 3.134 8 7M5 8a1 1 0 1 0-2 0 1 1 0 0 0 2 0m4 0a1 1 0 1 0-2 0 1 1 0 0 0 2 0m3 1a1 1 0 1 0 0-2 1 1 0 0 0 0 2"/>
        </svg> Comentarios: {{estdisticas.numeroDeCOmentarios}}</p>
        
        <div *ngFor="let comentario of estdisticas.detallesDeComentariosDtos" class="d-flex align-items-center mb-2">
          <img [src]="comentario.foto" alt="Foto de usuario" class="rounded-circle" width="40" height="40">
          <p class="mb-0 ms-2">{{comentario.nombreUsario}}</p>
        </div>
        <div *ngIf="estdisticas.cuestionarioDto!=null">
          <h5>Cuestionario</h5>
          <p><strong>Título:</strong> {{estdisticas.cuestionarioDto.titulo}}</p>
          <p><strong>Total de votos:</strong> {{estdisticas.cuestionarioDto.totalVotos}}</p>
          
          <div *ngFor="let opcion of estdisticas.cuestionarioDto.opciones" class="mb-2">
            <p><strong>Opción:</strong> {{opcion.opcion}}</p>
            <p><strong>Número de votos:</strong> {{opcion.numeroVotos}}</p>
            <p><strong>Porcentaje de votos:</strong> {{opcion.porcentajeVotos}}%</p>
            <div *ngFor="let voto of opcion.votarDtos" class="d-flex align-items-center mb-2">
              <img [src]="voto.getUsuario.fotoUrl" alt="Foto de usuario" class="rounded-circle" width="40" height="40">
              <p class="mb-0 ms-2">{{voto.getUsuario.username}}</p>
            </div>
          </div>
        </div>
      
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-outline-secondary" (click)="c('Save click')">Guardar</button>
      </div>
    </ng-template>
    
    
    


  </div>
  
  